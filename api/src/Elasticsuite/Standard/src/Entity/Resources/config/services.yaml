services:
    Elasticsuite\Entity\Serializer\GraphQl\StitchingNormalizer:
        arguments:
            - '@Elasticsuite\Metadata\Repository\MetadataRepository'
            - '@ApiPlatform\Core\Metadata\Resource\Factory\ResourceMetadataFactoryInterface'
            - '@Elasticsuite\ResourceMetadata\Service\ResourceMetadataManager'
        tags:
            - { name: 'serializer.normalizer' }

    Elasticsuite\Entity\Decoration\GraphQl\Type\StitchingFieldsBuilder:
        decorates: api_platform.graphql.fields_builder
        arguments:
            - '@Elasticsuite\Metadata\Repository\MetadataRepository'
            - '@ApiPlatform\Core\Metadata\Resource\Factory\ResourceMetadataFactoryInterface'
            - '@Elasticsuite\ResourceMetadata\Service\ResourceMetadataManager'
            - '@api_platform.graphql.types_container'
            - '@.inner'
                
    Elasticsuite\Entity\Filter\SearchColumnsFilter:
        arguments: [ '@doctrine', ~, '@?logger' ]
        tags: [ 'api_platform.filter' ]

    Elasticsuite\Entity\Filter\Col:
        arguments: [ '@doctrine', ~, '@?logger' ]
        tags: [ 'api_platform.filter' ]
